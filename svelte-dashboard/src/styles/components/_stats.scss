// Stats and Metrics - Appwrite Style Components
// =============================================

@import '../mixins';

// Overview Stats Grid
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: $space-4;
  margin-bottom: $space-6;
}

// Compact stat box for metrics
.stat-box {
  @include stat-box;
  
  .stat-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: $space-2;
    
    .stat-title {
      @include body-small;
      color: $neutral-300;
      font-weight: $font-medium;
      
      [data-theme="light"] & {
        color: $neutral-700;
      }
    }
    
    .stat-indicator {
      @include indicator-box;
      
      &.success { @include status-success; }
      &.warning { @include status-warning; }
      &.error { @include status-error; }
      &.info { @include status-info; }
    }
  }
  
  .stat-content {
    @include metric-display;
  }
  
  // Compact version for smaller spaces
  &.compact {
    padding: $space-2 $space-3;
    
    .stat-header {
      margin-bottom: $space-1;
      
      .stat-title {
        font-size: $text-xs;
      }
    }
    
    .metric-number {
      font-size: $text-xl;
    }
  }
}

// Progress bars within stat boxes
.stat-progress {
  margin-top: $space-2;
  
  .progress-bar {
    height: 4px;
    background: rgba($neutral-700, 0.3);
    border-radius: $rounded-full;
    overflow: hidden;
    
    [data-theme="light"] & {
      background: rgba($neutral-300, 0.5);
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, $primary-500, $primary-600);
      border-radius: $rounded-full;
      transition: width 0.3s ease;
      
      &.success {
        background: linear-gradient(90deg, $success-500, $success-600);
      }
      
      &.warning {
        background: linear-gradient(90deg, $warning-500, $warning-600);
      }
      
      &.error {
        background: linear-gradient(90deg, $error-500, $error-600);
      }
    }
  }
  
  .progress-text {
    font-size: $text-xs;
    color: $neutral-400;
    margin-top: $space-1;
    text-align: right;
    
    [data-theme="light"] & {
      color: $neutral-600;
    }
  }
}

// Velocity and trend indicators
.stat-trend {
  display: flex;
  align-items: center;
  gap: $space-1;
  margin-top: $space-1;
  
  .trend-icon {
    font-size: $text-xs;
    
    &.up { color: $success-500; }
    &.down { color: $error-500; }
    &.neutral { color: $neutral-400; }
  }
  
  .trend-value {
    font-size: $text-xs;
    font-weight: $font-medium;
    
    &.up { color: $success-500; }
    &.down { color: $error-500; }
    &.neutral { color: $neutral-400; }
  }
}